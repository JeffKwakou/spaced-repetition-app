<app-header></app-header>

<main>
    <div class="container">
        <div class="header-screen">
            <h2>Mes dossiers</h2>

            <div>
                <button mat-mini-fab color="primary" aria-label="Bouton pour ajouter un nouveau dossier" (click)="openDialogAddFolder()">
                    <mat-icon>add</mat-icon>
                </button>
            </div>
        </div>

        <div class="filter-folders-container">
            <form action="">
                <!-- <div>
                    <input matInput type="text" placeholder="Rechercher..." name="search" [(ngModel)]="searchingFolder" (ngModelChange)="searchFolderByKeyword()">
                </div> -->
                <div class="form-container">
                    <mat-form-field appearance="fill">
                        <mat-label>Rechercher</mat-label>
                        <input matInput type="text" name="search" [(ngModel)]="searchingFolder" (ngModelChange)="searchFolderByKeyword()">
                    </mat-form-field>
                </div>
            </form>

            <div>
                <button mat-flat-button color="primary" [matMenuTriggerFor]="menu">
                    Filtrer les dossiers
                </button>
                <mat-menu #menu="matMenu">
                    <div>Trier les dossiers par</div>
                    <button mat-menu-item (click)="onFilterFolders('default')">
                        Défaut
                        <mat-icon aria-hidden="false" aria-label="Example home icon" *ngIf="filterFolderBy == filterFolderValue.default">done</mat-icon>
                    </button>
                    <button mat-menu-item (click)="onFilterFolders('alphabetically')">
                        De A à Z
                        <mat-icon aria-hidden="false" aria-label="Example home icon" *ngIf="filterFolderBy == filterFolderValue.alphabetically">done</mat-icon>
                    </button>
                    <button mat-menu-item (click)="onFilterFolders('category')">
                        Catégories
                        <mat-icon aria-hidden="false" aria-label="Example home icon" *ngIf="filterFolderBy == filterFolderValue.category">done</mat-icon>
                    </button>
                    <button mat-menu-item (click)="onFilterFolders('lastadd')">
                        Dernier ajout
                        <mat-icon aria-hidden="false" aria-label="Example home icon" *ngIf="filterFolderBy == filterFolderValue.lastadd">done</mat-icon>
                    </button>
                </mat-menu>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6" *ngFor="let folder of folders">
                <div class="test">
                <a [routerLink]="['/flashcards', folder._id]" routerLinkActive="router-link-active">
                    <mat-card class="mat-elevation-z3 folder-card">
                        <!-- <mat-icon class="icon-folder" aria-hidden="false" aria-label="Example home icon">folder</mat-icon> -->
                        <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            viewBox="0 0 576 464" style="enable-background:new 0 0 576 464;" xml:space="preserve">
                        <style type="text/css">
                            .st0{fill:#2979FF;}
                            .st1{display:none;fill:#FEFEFE;}
                            .st2{fill:#FEFEFE;}
                        </style>
                        <g>
                            <path class="st0" d="M548.87,230c0,4,0,8,0,12c-0.7,7.61-3.98,14.29-7.34,20.99c-25.59,51.06-51.11,102.15-76.65,153.24
                                c-0.82,1.64-1.65,3.27-2.47,4.91c-3.8,7.58-9.83,11.33-18.42,11.29c-19.48-0.1-38.96-0.03-58.44-0.03
                                c-104.56,0-209.13-0.01-313.69,0.01c-13.07,0-23.51-4.84-31.11-15.76c-2.54-3.65-2.59-7.76-3.65-11.71c0-114.96,0-229.91,0-344.87
                                c3.43-17.86,14.86-27.39,33.42-27.44c38.95-0.11,77.91-0.07,116.86-0.01c12.94,0.02,23.54,4.68,31.22,15.63
                                c8.98,12.81,18.39,25.33,27.3,38.19c3.08,4.45,6.55,6.25,11.99,6.24c58.93-0.16,117.86-0.09,176.79-0.1
                                c13.63,0,24.07,5.6,30.98,17.46c2.66,4.57,3.77,9.51,3.75,14.81c-0.06,20.14-0.04,40.29-0.02,60.43c0.01,7.13,0.13,7.16,7.26,7.27
                                c11.8,0.18,23.61-0.49,35.41,0.96c15.51,1.91,26.28,10.35,33.88,23.51C548.27,221.03,547.83,225.69,548.87,230z"/>
                            <path class="st1" d="M548.87,230c-2.52-10.79-7.39-20.14-16.47-26.93c-8.49-6.35-18.18-8.67-28.58-8.67
                                c-10.49,0-20.99-0.14-31.47,0.08c-3.46,0.07-4.46-0.84-4.44-4.38c0.17-20.82,0.1-41.63,0.08-62.45
                                c-0.02-20.63-12.92-33.56-33.7-33.58c-59.95-0.05-119.9-0.05-179.85,0.07c-3.54,0.01-5.66-0.97-7.71-3.92
                                c-9.4-13.52-19.21-26.75-28.62-40.26c-7.56-10.85-17.74-15.96-30.9-15.92c-37.47,0.11-74.94,0.04-112.41,0.04
                                c-21.72,0-30.36,5.96-37.71,25.99c0-26.31,0.07-52.62-0.09-78.92C36.99-22.17,37.53-23,41.05-23c109.39,0.12,218.77,0.1,328.16,0.1
                                c58.27,0,116.55,0.04,174.82-0.1c3.84-0.01,4.98,0.48,4.97,4.74C548.83,64.5,548.87,147.25,548.87,230z"/>
                            <path class="st1" d="M37.1,404.94c3.14,9.56,7.99,17.73,17.51,22.35c5.22,2.53,10.66,3.65,16.39,3.65
                                c124.55,0,249.1-0.01,373.65,0.04c7.65,0,12.96-3.12,16.36-9.96c27.79-55.88,55.64-111.73,83.4-167.62
                                c1.81-3.64,2.99-7.59,4.46-11.4c0,80.97-0.03,161.94,0.1,242.91c0.01,3.42-0.67,4.1-4.09,4.09c-167.93-0.11-335.85-0.11-503.78,0
                                c-3.42,0-4.12-0.67-4.1-4.09C37.18,458.25,37.1,431.59,37.1,404.94z"/>
                            <path class="st2" d="M76.34,400.83c-0.26-1.81,0.82-2.99,1.42-4.29c25.19-53.99,50.47-107.94,75.52-161.99
                                c3.32-7.17,8.34-10.19,15.98-10.18c111.4,0.05,222.8,0.03,334.2,0.05c1.82,0,3.67,0.14,5.46,0.47c8.34,1.51,11.95,8.33,8.22,15.9
                                c-11.01,22.33-22.14,44.59-33.23,66.88c-14.86,29.87-29.76,59.73-44.56,89.64c-1.2,2.43-2.32,3.74-5.44,3.74
                                c-118.4-0.1-236.79-0.09-355.19-0.09C77.95,400.95,77.15,400.87,76.34,400.83z"/>
                            <path class="st2" d="M67.09,346.39c0-1.58,0-3.15,0-4.73c0-90.61,0.05-181.22-0.12-271.83c-0.01-5.01,1.47-5.9,6.12-5.88
                                c37.47,0.2,74.95,0.2,112.42,0c4.41-0.02,6.93,1.48,9.35,4.95c9.11,13.11,18.7,25.89,27.72,39.08
                                c7.61,11.12,17.75,16.19,31.21,16.15c59.46-0.18,118.92-0.02,178.38-0.2c4.86-0.02,6.05,1.21,5.98,6.02
                                c-0.29,19.82-0.26,39.64-0.01,59.46c0.05,4.22-1.07,5.11-5.17,5.1c-87.44-0.13-174.88-0.06-262.32-0.14
                                c-15.71-0.01-29.14,4.63-38.76,17.63c-2.25,3.04-4.04,6.49-5.65,9.94c-19.03,40.58-37.99,81.19-56.97,121.79
                                c-0.45,0.96-0.9,1.92-1.36,2.87C67.63,346.53,67.36,346.46,67.09,346.39z"/>
                        </g>
                        </svg>

                        <div>
                            <h2>{{folder.title}}</h2> 
                            <div>
                                Catégorie: <strong>{{folder.category}}</strong>
                            </div>
                        </div>
                        
                        
                    </mat-card>
                </a>
                <div class="folder-card__option">
                    <button mat-button [matMenuTriggerFor]="folderOption">
                        <mat-icon aria-hidden="false" aria-label="Example home icon">more_vert</mat-icon>
                    </button>
                    <mat-menu #folderOption="matMenu">
                        <button mat-menu-item (click)="openDialogUpdateFolder(folder._id)">
                            Modifier
                        </button>
                        <button mat-menu-item (click)="deleteFolder(folder._id)">
                            Supprimer
                        </button>
                    </mat-menu>
                </div>
            </div>
            </div>
        </div>
    </div>
</main>